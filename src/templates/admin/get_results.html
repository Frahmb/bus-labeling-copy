{% extends "admin/index.html" %}
{% load i18n static %}

{% block title %}Get Results | {{ site_title|default:_('Django site admin') }}{% endblock %}
{% block extrastyle %}
    {{ block.super }}
    {{ form.media }}
    <style>
        .form-row {
            padding:  4px  0;
            width:  100%;
            border-bottom: none;
        }

        .form-row label {
            padding-right:  0.5em;
            line-height:  2em;
            font-size:  1em;
            clear: both;
            color: #333;
        }

        .form-row input, .form-row select {
            clear: both;
            margin:  8px;
            width:  100%;
            box-sizing: border-box;
        }

        .loading {
            cursor: wait !important; /* Change cursor to loading spinner */
        }
    </style>
{% endblock %}

{% block content %}
    <form id="get-results-form" action="" method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="form-row">
            {{ form.datasets.label_tag }} {{ form.datasets }}
            {{ form.datasets.errors }}
        </div>

        <div class="form-row">
            {{ form.models.label_tag }} {{ form.models }}
            {{ form.models.errors }}
        </div>

        <div class="form-row">
            <input type="submit" value="Get Results">
        </div>
    </form>
    <div id="loading-spinner" style="display: none;">

    </div>
    <script>

        document.getElementById("get-results-form").addEventListener("submit", function() {
            
            addLoadingClass();
        });

        function addLoadingClass() {
            document.body.classList.add('loading');
        }


    </script>
{% endblock %}

{% block sidebar %}{% endblock %}

